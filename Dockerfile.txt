# Use the Bitnami Jupyter base notebook image
FROM bitnami/jupyter-base-notebook:4.1.6

# Set the working directory inside the image
WORKDIR /airbnb_project

# Copy the notebook and datasets from your specific location into the image
COPY notebooks/medallion_architecture_airbnb.ipynb /airbnb_project/notebooks:rw
COPY datasets/ /airbnb_project/datasets:rw
COPY src/ /airbnb_project/src:rw

# No need to install Jupyter as it is already installed in this image
# Install additional Python dependencies
RUN pip install --no-cache-dir pyspark pandas matplotlib

# Default command to run Jupyter Notebook
CMD ["jupyter", "notebook", "--ip=0.0.0.0", "--port=8888", "--allow-root", "--NotebookApp.token=''"]